BOOMR_start=(new Date).getTime(),function(a){a.parent!==a&&document.getElementById("boomr-if-as")&&"script"===document.getElementById("boomr-if-as").nodeName.toLowerCase()&&(a=a.parent);var b,c,d,e=a.document;if(void 0===a.BOOMR&&(a.BOOMR={}),BOOMR=a.BOOMR,!BOOMR.version){BOOMR.version="0.9",BOOMR.window=a,b={beacon_url:"",site_domain:a.location.hostname.replace(/.*?([^.]+\.[^.]+)\.?$/,"$1").toLowerCase(),user_ip:"",onloadfired:!1,handlers_attached:!1,events:{page_ready:[],page_unload:[],dom_loaded:[],visibility_changed:[],before_beacon:[],click:[]},vars:{},disabled_plugins:{},onclick_handler:function(c){var d;c||(c=a.event),c.target?d=c.target:c.srcElement&&(d=c.srcElement),3===d.nodeType&&(d=d.parentNode),d&&"OBJECT"===d.nodeName.toUpperCase()&&"application/x-shockwave-flash"===d.type||b.fireEvent("click",d)},fireEvent:function(a,b){var c,d,e;if(!this.events.hasOwnProperty(a))return!1;for(e=this.events[a],c=0;c<e.length;c++)d=e[c],d[0].call(d[2],b,d[1]);return!0}},c={t_start:BOOMR_start,t_end:null,utils:{objectToString:function(a,b){var c,d=[];if(!a||"object"!=typeof a)return a;void 0===b&&(b="\n	");for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&d.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return d.join(b)},getCookie:function(a){if(!a)return null;a=" "+a+"=";var b,c;return c=" "+e.cookie+";",(b=c.indexOf(a))>=0?(b+=a.length,c=c.substring(b,c.indexOf(";",b))):null},setCookie:function(a,c,d){var f,g,h,i;if(!a||!b.site_domain)return BOOMR.debug("No cookie name or site domain: "+a+"/"+b.site_domain),!1;if(f=this.objectToString(c,"&"),g=a+"="+f,h=[g,"path=/","domain="+b.site_domain],d&&(i=new Date,i.setTime(i.getTime()+1e3*d),i=i.toGMTString(),h.push("expires="+i)),g.length<4e3){e.cookie=h.join("; ");var j=this.getCookie(a);if(f===j)return!0;BOOMR.warn("Saved cookie value doesn't match what we tried to set:\n"+f+"\n"+j)}else BOOMR.warn("Cookie too long: "+g.length);return!1},getSubCookies:function(a){var b,c,d,e,f={};if(!a)return null;if(b=a.split("&"),0===b.length)return null;for(c=0,d=b.length;d>c;c++)e=b[c].split("="),e.push(""),f[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return f},removeCookie:function(a){return this.setCookie(a,{},0)},pluginConfig:function(a,b,c,d){var e,f=0;if(!b||!b[c])return!1;for(e=0;e<d.length;e++)void 0!==b[c][d[e]]&&(a[d[e]]=b[c][d[e]],f++);return f>0},addListener:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},removeListener:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)}},init:function(d){var f,g,h=["beacon_url","site_domain","user_ip"];for(d||(d={}),f=0;f<h.length;f++)void 0!==d[h[f]]&&(b[h[f]]=d[h[f]]);void 0!==d.log&&(this.log=d.log),this.log||(this.log=function(){});for(g in this.plugins)if(this.plugins.hasOwnProperty(g)){if(d[g]&&d[g].hasOwnProperty("enabled")&&d[g].enabled===!1){b.disabled_plugins[g]=1;continue}b.disabled_plugins[g]&&delete b.disabled_plugins[g],"function"==typeof this.plugins[g].init&&this.plugins[g].init(d)}return b.handlers_attached?this:(b.onloadfired||void 0!==d.autorun&&d.autorun===!1||(e.readyState&&"complete"===e.readyState?this.setImmediate(BOOMR.page_ready,null,null,BOOMR):a.onpagehide||null===a.onpagehide?c.utils.addListener(a,"pageshow",BOOMR.page_ready):c.utils.addListener(a,"load",BOOMR.page_ready)),c.utils.addListener(a,"DOMContentLoaded",function(){b.fireEvent("dom_loaded")}),function(){var d=function(){b.fireEvent("visibility_changed")};e.webkitVisibilityState?c.utils.addListener(e,"webkitvisibilitychange",d):e.msVisibilityState?c.utils.addListener(e,"msvisibilitychange",d):e.visibilityState&&c.utils.addListener(e,"visibilitychange",d),c.utils.addListener(e,"mouseup",b.onclick_handler),a.onpagehide||null===a.onpagehide||c.utils.addListener(a,"unload",function(){BOOMR.window=a=null})}(),b.handlers_attached=!0,this)},page_ready:function(){return b.onloadfired?this:(b.fireEvent("page_ready"),b.onloadfired=!0,this)},setImmediate:function(b,c,d,e){var f=function(){b.call(e||null,c,d||{}),f=null};a.setImmediate?a.setImmediate(f):a.msSetImmediate?a.msSetImmediate(f):a.webkitSetImmediate?a.webkitSetImmediate(f):a.mozSetImmediate?a.mozSetImmediate(f):setTimeout(f,10)},subscribe:function(d,e,f,g){var h,i,j,k;if(!b.events.hasOwnProperty(d))return this;for(j=b.events[d],h=0;h<j.length;h++)if(i=j[h],i[0]===e&&i[1]===f&&i[2]===g)return this;return j.push([e,f||{},g||null]),"page_ready"===d&&b.onloadfired&&this.setImmediate(e,null,f,g),"page_unload"===d&&(k=function(b){e&&e.call(g,b||a.event,f)},a.onpagehide||null===a.onpagehide?c.utils.addListener(a,"pagehide",k):c.utils.addListener(a,"unload",k),c.utils.addListener(a,"beforeunload",k)),this},addVar:function(a,c){if("string"==typeof a)b.vars[a]=c;else if("object"==typeof a){var d,e=a;for(d in e)e.hasOwnProperty(d)&&(b.vars[d]=e[d])}return this},removeVar:function(a){var c,d;if(!arguments.length)return this;for(d=1===arguments.length&&"[object Array]"===Object.prototype.toString.apply(a)?a:arguments,c=0;c<d.length;c++)b.vars.hasOwnProperty(d[c])&&delete b.vars[d[c]];return this},sendBeacon:function(){var c,d,f,g=0;BOOMR.debug("Checking if we can send beacon");for(c in this.plugins)if(this.plugins.hasOwnProperty(c)){if(b.disabled_plugins[c])continue;if(!this.plugins[c].is_complete())return BOOMR.debug("Plugin "+c+" is not complete, deferring beacon send"),this}if(b.vars.v=BOOMR.version,b.vars.u=e.URL.replace(/#.*/,""),a!==window&&(b.vars["if"]=""),b.fireEvent("before_beacon",b.vars),!b.beacon_url)return this;d=[];for(c in b.vars)b.vars.hasOwnProperty(c)&&(g++,d.push(encodeURIComponent(c)+"="+(void 0===b.vars[c]||null===b.vars[c]?"":encodeURIComponent(b.vars[c]))));return d=b.beacon_url+(b.beacon_url.indexOf("?")>-1?"&":"?")+d.join("&"),BOOMR.debug("Sending url: "+d.replace(/&/g,"\n	")),g&&(f=new Image,f.src=d),this}},delete BOOMR_start,function(){var a=function(a){return function(b,c){return this.log(b,a,"boomerang"+(c?"."+c:"")),this}};c.debug=a("debug"),c.info=a("info"),c.warn=a("warn"),c.error=a("error")}(),a.YAHOO&&a.YAHOO.widget&&a.YAHOO.widget.Logger?c.log=a.YAHOO.log:a.Y&&a.Y.log?c.log=a.Y.log:"object"==typeof console&&void 0!==console.log&&(c.log=function(a,b,c){console.log(c+": ["+b+"] "+a)});for(d in c)c.hasOwnProperty(d)&&(BOOMR[d]=c[d]);BOOMR.plugins=BOOMR.plugins||{}}}(window),function(a){var b,c=a.document;BOOMR=BOOMR||{},BOOMR.plugins=BOOMR.plugins||{},b={initialized:!1,complete:!1,timers:{},cookie:"RT",cookie_exp:600,strict_referrer:!0,navigationType:0,navigationStart:void 0,responseStart:void 0,t_start:void 0,t_fb_approx:void 0,r:void 0,r2:void 0,setCookie:function(a,b){var d,e,f;return this.cookie?(f=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie))||{},("ul"===a||"hd"==a)&&(f.r=c.URL.replace(/#.*/,"")),"cl"===a&&(b?f.nu=b:f.nu&&delete f.nu),b===!1&&delete f.nu,e=(new Date).getTime(),a&&(f[a]=e),BOOMR.debug("Setting cookie (how="+a+")\n"+BOOMR.utils.objectToString(f),"rt"),BOOMR.utils.setCookie(this.cookie,f,this.cookie_exp)?(d=(new Date).getTime(),d-e>50&&(BOOMR.utils.removeCookie(this.cookie),BOOMR.error("took more than 50ms to set cookie... aborting: "+e+" -> "+d,"rt")),this):(BOOMR.error("cannot set start cookie","rt"),this)):this},initFromCookie:function(){var a;this.cookie&&(a=BOOMR.utils.getSubCookies(BOOMR.utils.getCookie(this.cookie)),a&&(a.s=Math.max(+a.ul||0,+a.cl||0),BOOMR.debug("Read from cookie "+BOOMR.utils.objectToString(a),"rt"),a.s&&(a.r||a.nu)&&(this.r=a.r,BOOMR.debug(this.r+" =?= "+this.r2,"rt"),BOOMR.debug(a.s+" <? "+(+a.cl+15),"rt"),BOOMR.debug(a.nu+" =?= "+c.URL.replace(/#.*/,""),"rt"),!this.strict_referrer||this.r===this.r2||a.s<+a.cl+15&&a.nu===c.URL.replace(/#.*/,"")?(this.t_start=a.s,+a.hd>a.s&&(this.t_fb_approx=parseInt(a.hd,10))):this.t_start=this.t_fb_approx=void 0)))},checkPreRender:function(){return c.webkitVisibilityState&&"prerender"===c.webkitVisibilityState||c.msVisibilityState&&3===c.msVisibilityState?(BOOMR.plugins.RT.startTimer("t_load",this.navigationStart),BOOMR.plugins.RT.endTimer("t_load"),BOOMR.plugins.RT.startTimer("t_prerender",this.navigationStart),BOOMR.plugins.RT.startTimer("t_postrender"),BOOMR.subscribe("visibility_changed",BOOMR.plugins.RT.done,null,BOOMR.plugins.RT),!0):!1},initNavTiming:function(){var b,c,d;this.navigationStart||(c=a.performance||a.msPerformance||a.webkitPerformance||a.mozPerformance,c&&c.navigation&&(this.navigationType=c.navigation.type),c&&c.timing?b=c.timing:a.chrome&&a.chrome.csi&&a.chrome.csi().startE?(b={navigationStart:a.chrome.csi().startE},d="csi"):a.gtbExternal&&a.gtbExternal.startE()&&(b={navigationStart:a.gtbExternal.startE()},d="gtb"),b?(BOOMR.addVar("rt.start",d||"navigation"),this.navigationStart=b.navigationStart||b.fetchStart||void 0,this.responseStart=b.responseStart||void 0,navigator.userAgent.match(/Firefox\/[78]\./)&&(this.navigationStart=b.unloadEventStart||b.fetchStart||void 0)):BOOMR.warn("This browser doesn't support the WebTiming API","rt"))},page_unload:function(a){BOOMR.debug("Unload called with "+BOOMR.utils.objectToString(a),"rt"),this.setCookie("beforeunload"===a.type?"ul":"hd")},onclick:function(a){if(a){for(BOOMR.debug("Click called with "+a.nodeName,"rt");a&&"A"!==a.nodeName.toUpperCase();)a=a.parentNode;a&&"A"===a.nodeName.toUpperCase()&&(BOOMR.debug("passing through","rt"),this.setCookie("cl",a.href))}},domloaded:function(){BOOMR.plugins.RT.endTimer("t_domloaded")}},BOOMR.plugins.RT={init:function(d){return BOOMR.debug("init RT","rt"),a!==BOOMR.window&&(a=BOOMR.window,c=a.document),BOOMR.utils.pluginConfig(b,d,"RT",["cookie","cookie_exp","strict_referrer"]),b.initFromCookie(),b.initialized?this:(b.complete=!1,b.timers={},BOOMR.subscribe("page_ready",this.done,null,this),BOOMR.subscribe("dom_loaded",b.domloaded,null,b),BOOMR.subscribe("page_unload",b.page_unload,null,b),BOOMR.subscribe("click",b.onclick,null,b),BOOMR.t_start&&(this.startTimer("boomerang",BOOMR.t_start),this.endTimer("boomerang",BOOMR.t_end),this.endTimer("boomr_fb",BOOMR.t_start)),b.r=b.r2=c.referrer.replace(/#.*/,""),b.initialized=!0,this)},startTimer:function(a,c){return a&&("t_page"===a&&this.endTimer("t_resp",c),b.timers[a]={start:"number"==typeof c?c:(new Date).getTime()},b.complete=!1),this},endTimer:function(a,c){return a&&(b.timers[a]=b.timers[a]||{},void 0===b.timers[a].end&&(b.timers[a].end="number"==typeof c?c:(new Date).getTime())),this},setTimer:function(a,c){return a&&(b.timers[a]={delta:c}),this},done:function(){BOOMR.debug("Called done","rt");var a,c,d,e=(new Date).getTime(),f={t_done:1,t_resp:1,t_page:1},g=0,h=[];if(b.complete=!1,b.initFromCookie(),b.initNavTiming(),b.checkPreRender())return this;b.responseStart?(this.endTimer("t_resp",b.responseStart),b.timers.t_load?this.setTimer("t_page",b.timers.t_load.end-b.responseStart):this.setTimer("t_page",e-b.responseStart)):b.timers.hasOwnProperty("t_page")?this.endTimer("t_page"):b.t_fb_approx&&(this.endTimer("t_resp",b.t_fb_approx),this.setTimer("t_page",e-b.t_fb_approx)),b.timers.hasOwnProperty("t_postrender")&&(this.endTimer("t_postrender"),this.endTimer("t_prerender")),b.navigationStart?a=b.navigationStart:b.t_start&&2!==b.navigationType?(a=b.t_start,BOOMR.addVar("rt.start","cookie")):(BOOMR.addVar("rt.start","none"),a=void 0),BOOMR.debug("Got start time: "+a),this.endTimer("t_done",e),BOOMR.removeVar("t_done","t_page","t_resp","r","r2","rt.tstart","rt.bstart","rt.end","t_postrender","t_prerender","t_load"),BOOMR.addVar("rt.tstart",a),BOOMR.addVar("rt.bstart",BOOMR.t_start),BOOMR.addVar("rt.end",b.timers.t_done.end);for(c in b.timers)if(b.timers.hasOwnProperty(c)){if(d=b.timers[c],"number"!=typeof d.delta&&("number"!=typeof d.start&&(d.start=a),d.delta=d.end-d.start),isNaN(d.delta))continue;f.hasOwnProperty(c)?BOOMR.addVar(c,d.delta):h.push(c+"|"+d.delta),g++}return g&&(BOOMR.addVar("r",b.r),b.r2!==b.r&&BOOMR.addVar("r2",b.r2),h.length&&BOOMR.addVar("t_other",h.join(","))),b.timers={},b.complete=!0,BOOMR.sendBeacon(),this},is_complete:function(){return b.complete}}}(window);